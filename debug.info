dspsr -cpu 2 -E J0332+5434.par process.key -cuda 0,0 -L 10 -A

dsp::Archiver::finish archive '2018-04-17-19:22:10.ar' with 3 integrations
==680== Profiling application: ./paf_process -a dada -b adad -c 10240 -d 20 -e 16 -f 32 -g 1 -i 0 -j header_8bit.txt -k /beegfs/DENG/docker/ -l 0
==680== Profiling result:
            Type  Time(%)      Time     Calls       Avg       Min       Max  Name
 GPU activities:   47.17%  7.40372s      8000  925.47us  907.33us  1.1791ms  [CUDA memcpy HtoD]
                   25.88%  4.06200s      7683  528.70us  1.1200us  6.2562ms  [CUDA memcpy DtoH]
                   11.45%  1.79716s     16000  112.32us  94.947us  139.62us  void vector_fft<unsigned int=64, unsigned int=1, unsigned int=8, unsigned int=8, unsigned int=0, unsigned int=0, unsigned int=2, unsigned int=1, unsigned int=1, unsigned int=0, unsigned int, float>(kernel_arguments_t<unsigned int>)
                    5.19%  815.18ms      8000  101.90us  100.87us  114.66us  swap_select_transpose_swap_kernel(float2*, float2*, unsigned long, unsigned long)
                    5.11%  802.19ms      8000  100.27us  98.499us  113.83us  unpack_kernel(long*, float2*, unsigned long)
                    4.86%  762.40ms      7680  99.271us  93.539us  551.19us  transpose_scale_kernel4(float2*, char*, unsigned long, float*, float*)
                    0.21%  33.116ms       320  103.49us  99.043us  105.92us  transpose_pad_kernel(float2*, unsigned long, float2*)
                    0.12%  18.715ms       640  29.242us  2.3040us  57.026us  sum_kernel(float2*, float2*)
                    0.00%  329.84us        20  16.491us  15.585us  17.217us  mean_kernel(float2*, unsigned long, float*, float*, int, float)
                    0.00%  3.0080us         2  1.5040us     992ns  2.0160us  [CUDA memset]
                    0.00%  2.6560us         1  2.6560us  2.6560us  2.6560us  scale_kernel(float*, float*, float*)
      API calls:   68.25%  17.5402s     15680  1.1186ms  8.7260us  8.5422ms  cudaMemcpyAsync
                   18.42%  4.73425s         8  591.78ms  574.38ms  626.33ms  cudaHostRegister
                    3.92%  1.00751s         8  125.94ms  113.46ms  152.97ms  cudaHostUnregister
                    3.55%  911.15ms        71  12.833ms     945ns  868.25ms  cudaFree
                    2.19%  563.25ms        16  35.203ms  32.320us  562.62ms  cudaStreamCreate
                    1.34%  343.64ms     24661  13.934us  6.1340us  889.92us  cudaLaunch
                    1.19%  305.72ms       501  610.23us  7.7500us  15.168ms  cudaDeviceSynchronize
                    0.80%  206.48ms     16000  12.904us  6.8350us  690.45us  cudaLaunchKernel
                    0.11%  27.086ms        32  846.42us  635.44us  4.0990ms  cudaGetDeviceProperties
                    0.10%  24.596ms     96763     254ns     142ns  673.14us  cudaSetupArgument
                    0.05%  12.525ms        39  321.14us  9.5160us  1.6899ms  cudaMalloc
                    0.04%  9.4666ms     24661     383ns     176ns  18.583us  cudaConfigureCall
                    0.02%  4.7931ms     16000     299ns     158ns  22.258us  cudaGetErrorString
                    0.01%  3.0458ms         3  1.0153ms  16.190us  3.0049ms  cudaFreeHost
                    0.01%  1.9544ms       185  10.564us     179ns  567.34us  cuDeviceGetAttribute
                    0.01%  1.4563ms         3  485.43us  6.9740us  1.4394ms  cudaMallocHost
                    0.00%  723.00us         2  361.50us  295.20us  427.80us  cuDeviceTotalMem
                    0.00%  396.73us         2  198.37us  170.59us  226.14us  cuDeviceGetName
                    0.00%  321.61us       501     641ns     244ns  14.193us  cudaGetLastError
                    0.00%  166.46us        16  10.403us  6.9170us  17.474us  cudaStreamDestroy
                    0.00%  157.79us       224     704ns     351ns  11.615us  cudaGetDevice
                    0.00%  78.011us         3  26.003us  15.970us  43.792us  cudaMemcpy
                    0.00%  72.152us         2  36.076us  4.7000us  67.452us  cudaMemset
                    0.00%  28.418us         4  7.1040us     585ns  20.860us  cudaSetDevice
                    0.00%  3.7860us         4     946ns     251ns  2.4630us  cuDeviceGetCount
                    0.00%  2.3100us         3     770ns     367ns  1.4730us  cuDeviceGet
                    0.00%  1.3350us         1  1.3350us  1.3350us  1.3350us  cuInit
                    0.00%  1.2690us         1  1.2690us  1.2690us  1.2690us  cudaGetDeviceCount
                    0.00%     904ns         1     904ns     904ns     904ns  cuDriverGetVersion
==683== Profiling application: dspsr -cpu 2 -E J0332+5434.par process.key -cuda 0,0 -L 10 -A
Destroyed DADA data and header blocks
==683== Profiling result:
            Type  Time(%)      Time     Calls       Avg       Min       Max  Name
 GPU activities:   18.61%  2.90929s      2280  1.2760ms     960ns  5.3672ms  [CUDA memcpy HtoD]
                   16.75%  2.61889s      1126  2.3258ms  133.16us  3.7323ms  void unpack<char>(unpack_dimensions, float, float, char const *, float*, unsigned long)
                   14.52%  2.26966s      1128  2.0121ms  60.194us  3.8911ms  fold1bin2dim_shared(float2 const *, unsigned int, float2*, unsigned int, unsigned int, unsigned int, CUDA::bin const *)
                    7.82%  1.22318s     35558  34.399us  23.073us  888.48us  void spRadix0032B::kernel1Mem<unsigned int, float, fftDirection_t=1, unsigned int=64, unsigned int=4, CONSTANT, ALL, WRITEBACK>(kernel_parameters_t<fft_mem_radix1_t, unsigned int, float>)
                    7.75%  1.21166s     35558  34.075us  24.064us  887.71us  void spRadix0032B::kernel1Mem<unsigned int, float, fftDirection_t=-1, unsigned int=64, unsigned int=4, CONSTANT, ALL, WRITEBACK>(kernel_parameters_t<fft_mem_radix1_t, unsigned int, float>)
                    7.74%  1.20963s     35558  34.018us  22.753us  879.07us  void spRadix0064B::kernel3Mem<unsigned int, float, fftDirection_t=1, unsigned int=32, unsigned int=4, CONSTANT, ALL, WRITEBACK>(kernel_parameters_t<fft_mem_radix3_t, unsigned int, float>)
                    7.72%  1.20628s     35558  33.924us  23.904us  884.54us  void spRadix0064B::kernel3Mem<unsigned int, float, fftDirection_t=-1, unsigned int=32, unsigned int=4, CONSTANT, ALL, WRITEBACK>(kernel_parameters_t<fft_mem_radix3_t, unsigned int, float>)
                    6.11%  954.50ms      1126  847.69us  121.35us  1.6641ms  k_multiply_conv_spectral(float2*, float2 const *, unsigned int, unsigned int, unsigned int)
                    5.41%  845.43ms      1126  750.82us  88.899us  1.5269ms  coherence2(float2 const *, unsigned int, float2*, unsigned int, unsigned int)
                    5.32%  831.69ms      1126  738.62us  90.211us  1.5574ms  k_ncopy_conv_spectral(float2*, unsigned long, float2 const *, unsigned long, unsigned int, unsigned int, unsigned int, unsigned int)
                    1.56%  244.59ms      2186  111.89us  2.4960us  941.41us  [CUDA memcpy DtoD]
                    0.65%  101.65ms      3311  30.700us  2.2080us  783.29us  void copy_data_fpt_kernel<float2>(float2*, float2*, unsigned long, unsigned long, unsigned long)
                    0.04%  6.9001ms         6  1.1500ms  436.85us  2.6697ms  [CUDA memcpy DtoH]
                    0.00%  46.304us        40  1.1570us     896ns  3.4560us  [CUDA memset]
      API calls:   48.97%  12.6502s      3344  3.7829ms  1.2640us  23.827ms  cudaStreamSynchronize
                   16.11%  4.16217s    142232  29.263us  6.6580us  150.56ms  cudaLaunchKernel
                   12.55%  3.24194s      2732  1.1867ms     750ns  850.26ms  cudaFree
                    7.14%  1.84338s      1790  1.0298ms  538.43us  116.53ms  cudaGetDeviceProperties
                    5.49%  1.41774s         4  354.44ms  228.31ms  716.37ms  cudaHostRegister
                    2.66%  687.57ms       946  726.82us  23.324us  119.68ms  cudaMalloc
                    2.42%  625.02ms      8943  69.889us  6.9810us  123.70ms  cudaLaunch
                    2.11%  545.83ms      4473  122.03us     477ns  115.86ms  cudaMemcpyAsync
                    1.08%  278.04ms     57216  4.8590us     500ns  2.2568ms  cudaFuncSetCacheConfig
                    0.81%  209.07ms         4  52.267ms  49.096ms  57.126ms  cudaHostUnregister
                    0.24%  62.750ms    142232     441ns     174ns  1.5146ms  cudaGetLastError
                    0.18%  46.852ms    142232     329ns     137ns  1.2415ms  cudaPeekAtLastError
                    0.08%  20.451ms     12985  1.5740us     345ns  720.66us  cudaGetDevice
                    0.07%  17.354ms     51475     337ns     141ns  759.06us  cudaSetupArgument
                    0.03%  8.1512ms        46  177.20us  1.7070us  4.5533ms  cudaMemsetAsync
                    0.02%  5.9213ms      8943     662ns     153ns  59.067us  cudaConfigureCall
                    0.02%  5.0400ms         3  1.6800ms  40.687us  2.5136ms  cudaMallocHost
                    0.01%  2.1654ms       185  11.704us     176ns  615.06us  cuDeviceGetAttribute
                    0.01%  1.3589ms         1  1.3589ms  1.3589ms  1.3589ms  cudaFreeHost
                    0.00%  711.83us         2  355.92us  315.21us  396.63us  cuDeviceTotalMem
                    0.00%  306.40us         2  153.20us  148.45us  157.95us  cuDeviceGetName
                    0.00%  274.46us         2  137.23us  109.41us  165.05us  cudaStreamCreate
                    0.00%  77.232us         2  38.616us  24.632us  52.600us  cudaSetDevice
                    0.00%  19.281us         2  9.6400us  2.6600us  16.621us  cudaGetDeviceCount
                    0.00%  4.2050us         4  1.0510us     255ns  2.7160us  cuDeviceGetCount
                    0.00%  2.1280us         3     709ns     288ns  1.1360us  cuDeviceGet
                    0.00%  1.1960us         1  1.1960us  1.1960us  1.1960us  cuInit
                    0.00%     990ns         1     990ns     990ns     990ns  cuDriverGetVersion

dsp::Archiver::finish archive '2018-04-17-19:22:10.ar' with 3 integrations
==947== Profiling application: ./paf_process -a dada -b adad -c 10240 -d 20 -e 16 -f 32 -g 1 -i 0 -j header_8bit.txt -k /beegfs/DENG/docker/ -l 0
==947== Profiling result:
            Type  Time(%)      Time     Calls       Avg       Min       Max  Name
 GPU activities:   47.80%  7.38395s      8000  922.99us  907.52us  1.1650ms  [CUDA memcpy HtoD]
                   26.00%  4.01691s      7683  522.83us  1.1200us  6.5284ms  [CUDA memcpy DtoH]
                   11.89%  1.83677s     16000  114.80us  97.219us  140.61us  void vector_fft<unsigned int=32, unsigned int=1, unsigned int=8, unsigned int=32, unsigned int=1, unsigned int=0, unsigned int=2, unsigned int=1, unsigned int=1, unsigned int=0, unsigned int, float>(kernel_arguments_t<unsigned int>)
                    5.43%  838.21ms      8000  104.78us  103.81us  117.28us  swap_select_transpose_swap_kernel(float2*, float2*, unsigned long, unsigned long)
                    5.18%  800.20ms      8000  100.02us  98.435us  114.24us  unpack_kernel(long*, float2*, unsigned long)
                    3.37%  520.60ms      7680  67.785us  65.410us  2.5578ms  transpose_scale_kernel4(float2*, char*, unsigned long, float*, float*)
                    0.20%  31.506ms       320  98.455us  94.884us  99.427us  transpose_pad_kernel(float2*, unsigned long, float2*)
                    0.12%  18.688ms       640  29.199us  2.2720us  56.898us  sum_kernel(float2*, float2*)
                    0.00%  333.68us        20  16.683us  15.585us  17.793us  mean_kernel(float2*, unsigned long, float*, float*, int, float)
                    0.00%  3.0400us         2  1.5200us  1.0560us  1.9840us  [CUDA memset]
                    0.00%  2.6240us         1  2.6240us  2.6240us  2.6240us  scale_kernel(float*, float*, float*)
      API calls:   66.84%  17.0359s     15680  1.0865ms  8.5740us  11.250ms  cudaMemcpyAsync
                   19.53%  4.97851s         8  622.31ms  611.29ms  677.27ms  cudaHostRegister
                    3.90%  994.84ms         8  124.36ms  116.32ms  160.29ms  cudaHostUnregister
                    3.38%  861.24ms        16  53.827ms  32.784us  860.53ms  cudaStreamCreate
                    2.67%  680.91ms        71  9.5903ms  1.0370us  641.48ms  cudaFree
                    1.32%  336.49ms     24661  13.644us  6.3200us  797.77us  cudaLaunch
                    1.20%  307.09ms       501  612.96us  6.9840us  15.170ms  cudaDeviceSynchronize
                    0.80%  202.74ms     16000  12.671us  7.0430us  1.2551ms  cudaLaunchKernel
                    0.11%  29.053ms        32  907.89us  680.00us  3.9361ms  cudaGetDeviceProperties
                    0.10%  24.920ms     96763     257ns     140ns  681.29us  cudaSetupArgument
                    0.05%  13.837ms        39  354.79us  5.5450us  1.7793ms  cudaMalloc
                    0.03%  8.7900ms     24661     356ns     170ns  19.346us  cudaConfigureCall
                    0.02%  5.1978ms     16000     324ns     168ns  27.082us  cudaGetErrorString
                    0.01%  3.4346ms         3  1.1449ms  16.175us  3.3923ms  cudaFreeHost
                    0.01%  2.2763ms       185  12.304us     174ns  661.12us  cuDeviceGetAttribute
                    0.01%  1.5095ms         3  503.16us  7.0070us  1.4923ms  cudaMallocHost
                    0.00%  853.09us         2  426.54us  327.29us  525.80us  cuDeviceTotalMem
                    0.00%  438.30us         2  219.15us  178.05us  260.25us  cuDeviceGetName
                    0.00%  306.64us       501     612ns     317ns  11.986us  cudaGetLastError
                    0.00%  211.17us       224     942ns     352ns  18.773us  cudaGetDevice
                    0.00%  140.88us        16  8.8050us  6.3610us  17.560us  cudaStreamDestroy
                    0.00%  82.481us         3  27.493us  18.379us  42.495us  cudaMemcpy
                    0.00%  77.194us         2  38.597us  4.5800us  72.614us  cudaMemset
                    0.00%  17.702us         4  4.4250us     596ns  10.248us  cudaSetDevice
                    0.00%  3.6030us         4     900ns     240ns  2.1780us  cuDeviceGetCount
                    0.00%  2.1150us         3     705ns     410ns  1.2050us  cuDeviceGet
                    0.00%  1.7170us         1  1.7170us  1.7170us  1.7170us  cudaGetDeviceCount
                    0.00%     923ns         1     923ns     923ns     923ns  cuInit
                    0.00%     705ns         1     705ns     705ns     705ns  cuDriverGetVersion
==949== Profiling application: dspsr -cpu 2 -E J0332+5434.par process.key -cuda 0,0 -L 10 -A
Destroyed DADA data and header blocks
==949== Profiling result:
            Type  Time(%)      Time     Calls       Avg       Min       Max  Name
 GPU activities:   18.76%  2.87650s      2280  1.2616ms     992ns  5.0106ms  [CUDA memcpy HtoD]
                   16.75%  2.56927s      1126  2.2818ms  138.44us  3.7294ms  void unpack<char>(unpack_dimensions, float, float, char const *, float*, unsigned long)
                   14.58%  2.23649s      1128  1.9827ms  71.778us  3.2915ms  fold1bin2dim_shared(float2 const *, unsigned int, float2*, unsigned int, unsigned int, unsigned int, CUDA::bin const *)
                    7.89%  1.20963s     35558  34.018us  16.000us  822.65us  void spRadix0032B::kernel1Mem<unsigned int, float, fftDirection_t=1, unsigned int=64, unsigned int=4, CONSTANT, ALL, WRITEBACK>(kernel_parameters_t<fft_mem_radix1_t, unsigned int, float>)
                    7.75%  1.18870s     35558  33.429us  22.881us  809.69us  void spRadix0064B::kernel3Mem<unsigned int, float, fftDirection_t=1, unsigned int=32, unsigned int=4, CONSTANT, ALL, WRITEBACK>(kernel_parameters_t<fft_mem_radix3_t, unsigned int, float>)
                    7.64%  1.17108s     35558  32.934us  23.393us  867.58us  void spRadix0032B::kernel1Mem<unsigned int, float, fftDirection_t=-1, unsigned int=64, unsigned int=4, CONSTANT, ALL, WRITEBACK>(kernel_parameters_t<fft_mem_radix1_t, unsigned int, float>)
                    7.49%  1.14821s     35558  32.291us  22.912us  842.56us  void spRadix0064B::kernel3Mem<unsigned int, float, fftDirection_t=-1, unsigned int=32, unsigned int=4, CONSTANT, ALL, WRITEBACK>(kernel_parameters_t<fft_mem_radix3_t, unsigned int, float>)
                    6.05%  928.26ms      1126  824.39us  120.90us  1.6456ms  k_multiply_conv_spectral(float2*, float2 const *, unsigned int, unsigned int, unsigned int)
                    5.39%  827.01ms      1126  734.47us  88.739us  1.5537ms  coherence2(float2 const *, unsigned int, float2*, unsigned int, unsigned int)
                    5.37%  823.86ms      1126  731.67us  89.475us  1.5358ms  k_ncopy_conv_spectral(float2*, unsigned long, float2 const *, unsigned long, unsigned int, unsigned int, unsigned int, unsigned int)
                    1.60%  246.02ms      2216  111.02us  2.4960us  936.48us  [CUDA memcpy DtoD]
                    0.68%  104.39ms      3341  31.244us  2.2080us  756.22us  void copy_data_fpt_kernel<float2>(float2*, float2*, unsigned long, unsigned long, unsigned long)
                    0.05%  7.3689ms         6  1.2281ms  423.28us  2.6853ms  [CUDA memcpy DtoH]
                    0.00%  42.755us        40  1.0680us     896ns  1.7920us  [CUDA memset]
Destroyed DADA data and header blocks
      API calls:   46.25%  11.8330s      3374  3.5071ms  1.2990us  15.851ms  cudaStreamSynchronize
                   18.80%  4.81053s    142232  33.821us  7.6260us  117.61ms  cudaLaunchKernel
                    9.81%  2.50964s      2731  918.95us     659ns  720.78ms  cudaFree
                    6.94%  1.77449s      1790  991.34us  540.30us  119.75ms  cudaGetDeviceProperties
                    6.63%  1.69590s         4  423.98ms  239.24ms  955.46ms  cudaHostRegister
                    3.12%  799.15ms       945  845.67us  30.022us  115.34ms  cudaMalloc
                    3.04%  778.02ms      8973  86.706us  8.0060us  137.36ms  cudaLaunch
                    2.46%  629.72ms      4503  139.84us     589ns  115.33ms  cudaMemcpyAsync
                    1.26%  322.86ms     57216  5.6420us     491ns  2.8556ms  cudaFuncSetCacheConfig
                    0.96%  246.77ms         4  61.692ms  48.166ms  75.850ms  cudaHostUnregister
                    0.26%  65.336ms    142232     459ns     174ns  1.2392ms  cudaGetLastError
                    0.20%  52.108ms    142232     366ns     136ns  1.1921ms  cudaPeekAtLastError
                    0.08%  21.090ms     12985  1.6240us     347ns  724.53us  cudaGetDevice
                    0.07%  17.926ms     51625     347ns     141ns  68.433us  cudaSetupArgument
                    0.04%  10.268ms       185  55.501us     176ns  8.3309ms  cuDeviceGetAttribute
                    0.03%  7.0063ms      8973     780ns     177ns  67.488us  cudaConfigureCall
                    0.02%  3.8743ms         1  3.8743ms  3.8743ms  3.8743ms  cudaFreeHost
                    0.01%  3.3806ms        46  73.490us  2.0340us  391.25us  cudaMemsetAsync
                    0.01%  3.1539ms         2  1.5769ms  145.81us  3.0081ms  cuDeviceGetName
                    0.01%  1.7230ms         3  574.34us  41.313us  1.6083ms  cudaMallocHost
                    0.00%  938.38us         2  469.19us  426.32us  512.06us  cuDeviceTotalMem
                    0.00%  205.67us         2  102.84us  82.852us  122.82us  cudaStreamCreate
                    0.00%  43.219us         2  21.609us  9.1490us  34.070us  cudaSetDevice
                    0.00%  4.3740us         2  2.1870us  2.1110us  2.2630us  cudaGetDeviceCount
                    0.00%  3.9170us         4     979ns     255ns  2.6530us  cuDeviceGetCount
                    0.00%  1.8760us         3     625ns     333ns  1.0190us  cuDeviceGet
                    0.00%  1.4530us         1  1.4530us  1.4530us  1.4530us  cuInit
                    0.00%  1.0710us         1  1.0710us  1.0710us  1.0710us  cuDriverGetVersion